<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#" lang="en">
  <head>
    <title>passport-oauth2-jwt-bearer</title>
    <meta charset="utf-8">
    <meta name="description" content="JSON Web Token (JWT) Bearer Token Profiles for OAuth 2.0 client authentication strategy for Passport.">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="canonical" href="https://www.passportjs.org/packages/passport-oauth2-jwt-bearer/">
    <link rel="manifest" href="/manifest.webmanifest"/>
    <meta name="theme-color" content="#35DF79"/>
    <link rel="shortcut icon" href="/images/favicon/favicon.ico"/>
    <link rel="icon" sizes="16x16" type="image/png" href="/images/favicon/favicon-16x16.png"/>
    <link rel="icon" sizes="32x32" type="image/png" href="/images/favicon/favicon-32x32.png"/>
    <link rel="icon" sizes="36x36" type="image/png" href="/images/favicon/android-icon-36x36.png"/>
    <link rel="icon" sizes="48x48" type="image/png" href="/images/favicon/android-icon-48x48.png"/>
    <link rel="icon" sizes="70x70" type="image/png" href="/images/favicon/ms-icon-70x70.png"/>
    <link rel="icon" sizes="72x72" type="image/png" href="/images/favicon/android-icon-72x72.png"/>
    <link rel="icon" sizes="96x96" type="image/png" href="/images/favicon/android-icon-96x96.png"/>
    <link rel="icon" sizes="144x144" type="image/png" href="/images/favicon/ms-icon-144x144.png"/>
    <link rel="icon" sizes="150x150" type="image/png" href="/images/favicon/ms-icon-150x150.png"/>
    <link rel="icon" sizes="192x192" type="image/png" href="/images/favicon/android-icon-192x192.png"/>
    <link rel="icon" sizes="310x310" type="image/png" href="/images/favicon/ms-icon-310x310.png"/>
    <link rel="apple-touch-icon" href="/images/favicon/apple-icon-57x57.png"/>
    <link rel="apple-touch-icon" sizes="60x60" href="/images/favicon/apple-icon-60x60.png"/>
    <link rel="apple-touch-icon" sizes="72x72" href="/images/favicon/apple-icon-72x72.png"/>
    <link rel="apple-touch-icon" sizes="76x76" href="/images/favicon/apple-icon-76x76.png"/>
    <link rel="apple-touch-icon" sizes="114x114" href="/images/favicon/apple-icon-114x114.png"/>
    <link rel="apple-touch-icon" sizes="120x120" href="/images/favicon/apple-icon-120x120.png"/>
    <link rel="apple-touch-icon" sizes="144x144" href="/images/favicon/apple-icon-144x144.png"/>
    <link rel="apple-touch-icon" sizes="152x152" href="/images/favicon/apple-icon-152x152.png"/>
    <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-icon-180x180.png"/>
    <meta name="msapplication-config" content="/browserconfig.xml"/>
    <meta name="msapplication-TileColor" content="#35DF79"/>
    <meta name="msapplication-TileImage" content="/images/favicon/ms-icon-144x144.png"/>
    <meta property="og:type" content="website"/>
    <meta property="og:title" content="passport-oauth2-jwt-bearer"/>
    <meta property="og:description" content="JSON Web Token (JWT) Bearer Token Profiles for OAuth 2.0 client authentication strategy for Passport."/>
    <meta property="og:url" content="https://www.passportjs.org/packages/passport-oauth2-jwt-bearer/"/>
    <meta property="og:image" content="https://www.passportjs.org/images/facebook-card.png"/>
    <meta property="og:image:type" content="image/png"/>
    <meta property="og:image:width" content="1200"/>
    <meta property="og:image:height" content="630"/>
    <meta property="og:site_name" content="Passport.js"/>
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:site" content="@passportjs"/>
    <meta name="twitter:title" content="passport-oauth2-jwt-bearer"/>
    <meta name="twitter:description" content="JSON Web Token (JWT) Bearer Token Profiles for OAuth 2.0 client authentication strategy for Passport."/>
    <meta name="twitter:image" content="https://www.passportjs.org/images/twitter-card.png"/>
    <meta name="flattr:id" content="d5znvd"/>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      
      ga('create', 'UA-73332146-2', 'auto');
      ga('send', 'pageview');
    </script>
    <!--+google-tag-manager('GTM-M5S3PH')-->
    <!--link(type='text/css', rel='stylesheet', href='http://fast.fonts.net/cssapi/7527d73a-ebfe-45db-a201-ff2812df4b18.css')-->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/styles/default.min.css">
    <link rel="stylesheet" href="/assets/styles/all.css">
    <script data-main="/script/main" src="//cdnjs.cloudflare.com/ajax/libs/require.js/2.3.5/require.js"></script>
  </head>
  <body>
    <div id="container"><span id="top"></span>
      <div id="toolbar">
        <div class="toolbar-search">
          <form action="/search">
            <button type="submit"></button>
            <input type="text" name="q" placeholder="Search for Strategies">
          </form>
        </div>
        <div class="toolbar-social">
          <ul>
            <li class="facebook"><a href="https://www.facebook.com/passportjs" target="_blank"></a></li>
            <li class="twitter"><a href="https://twitter.com/passportjs" target="_blank"></a></li>
            <li class="github"><a href="https://github.com/jaredhanson/passport" target="_blank"><span class="count">0</span></a></li>
          </ul>
        </div>
      </div>
      <nav id="menu"><a class="menu-logo" href="/" title="Passport.js"></a>
        <div class="menu-trigger"><span></span></div>
        <div class="menu-items">
          <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/docs/">Documentation</a></li>
            <li><a href="/features/">Features</a></li>
            <li><a href="/packages/">Strategies</a></li>
          </ul><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=passportjsorg" id="_carbonads_js"></script>
        </div>
      </nav>
      <div id="content">
        <div class="package hproduct" id="package">
          <div class="description"><h1 id="passport-oauth2-jwt-bearer">passport-oauth2-jwt-bearer</h1>
<p>JSON Web Token (JWT) Bearer Token Profiles for OAuth 2.0 client authentication strategy for <a href="https://github.com/jaredhanson/passport">Passport</a>.</p>
<p>This module lets you authenticate requests containing client credentials in a JWT sent in the
request body&#39;s assertion field, as <a href="http://tools.ietf.org/html/draft-jones-oauth-jwt-bearer-01#section-2.1">defined</a>
by the JSON Web Token (JWT) Bearer Token Profiles for OAuth 2.0 draft.  These credentials are typically used to protect
the token endpoint and used as an alternative to HTTP Basic authentication.  This module is modeled off of Google&#39;s OAuth 2.0 <a href="https://developers.google.com/accounts/docs/OAuth2ServiceAccount">Server to Server Applications</a>.  This module can be used with the <a href="https://github.com/xtuple/oauth2orize-jwt-bearer">oauth2orize-jwt-bearer</a> module to create a JWT OAuth 2.0 exchange scenario server.</p>
<h2 id="install">Install</h2>
<pre><code>$ npm install pass<span class="keyword">port</span>-oauth2-jwt-bearer
</code></pre><h2 id="usage">Usage</h2>
<h4 id="configure-strategy">Configure Strategy</h4>
<p>The JSON Web Token (JWT) Bearer Token Profiles for OAuth 2.0 client authentication strategy authenticates clients
using a JWT.  The strategy requires a <code>verify</code> callback,
which accepts those credentials and calls <code>done</code> providing a client.</p>
<pre><code><span class="keyword">var</span> ClientJWTBearerStrategy = <span class="built_in">require</span>(<span class="string">'passport-oauth2-jwt-bearer'</span>).Strategy;

passport.use(<span class="keyword">new</span> ClientJWTBearerStrategy(
  <span class="function"><span class="keyword">function</span>(<span class="params">claimSetIss, done</span>) </span>{
    Clients.findOne({ <span class="attr">clientId</span>: claimSetIss }, <span class="function"><span class="keyword">function</span> (<span class="params">err, client</span>) </span>{
      <span class="keyword">if</span> (err) { <span class="keyword">return</span> done(err); }
      <span class="keyword">if</span> (!client) { <span class="keyword">return</span> done(<span class="literal">null</span>, <span class="literal">false</span>); }
      <span class="keyword">return</span> done(<span class="literal">null</span>, client);
    });
  }
));
</code></pre><h4 id="authenticate-requests">Authenticate Requests</h4>
<p>Use <code>passport.authenticate()</code>, specifying the <code>&#39;oauth2-jwt-bearer&#39;</code>
strategy, to authenticate requests.</p>
<p>For example, as route middleware in an <a href="http://expressjs.com/">Express</a>
application, using <a href="https://github.com/jaredhanson/oauth2orize">OAuth2orize</a>
middleware to implement the token endpoint:</p>
<pre><code>app.<span class="keyword">get</span>(<span class="string">'/profile'</span>,
  passport.authenticate([<span class="string">'oauth2-jwt-bearer'</span>], { <span class="keyword">session</span>: <span class="keyword">false</span> }),
  oauth2orize.token());
</code></pre><h2 id="tests">Tests</h2>
<pre><code><span class="meta">$</span><span class="bash"> npm install --dev</span>
<span class="meta">$</span><span class="bash"> make <span class="built_in">test</span></span>
</code></pre><h2 id="credits">Credits</h2>
<ul>
<li><a href="http://github.com/bendiy">bendiy</a></li>
</ul>
<h2 id="license">License</h2>
<p><a href="http://opensource.org/licenses/MIT">The MIT License</a></p>
<p>Copyright (c) 2012-2013 xTuple &lt;<a href="http://www.xtuple.com/">http://www.xtuple.com/</a>&gt;</p>
</div>
          <div class="metadata">
            <div class="install"><code>npm install <span class="fn">passport-oauth2-jwt-bearer</span></code></div>
            <ul>
              <li><span class="version">0.2.0</span> published <abbr class="updated" title="2017-10-13T15:43:14Z">4 years ago</abbr></li>
              <li><a class="url" href="git://github.com/xtuple/passport-oauth2-jwt-bearer.git">https://github.com/xtuple/passport-oauth2-jwt-bearer#readme</a></li>
            </ul>
            <ul>
              <li><b>12</b> downloads in the last day</li>
              <li><b>60</b> downloads in the last week</li>
              <li><b>198</b> downloads in the last month</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="search-con">
      <div class="head"><span class="close-ico"></span>
        <div class="hold">
          <h2>SEARCH FOR STRATEGIES</h2>
          <form action="/">
            <input value="" type="text" name="strategy" placeholder="Start typing" autocomplete="off">
          </form>
          <p class="info-line"><span>0</span>STRATEGIES</p>
        </div>
      </div>
      <div class="results">
        <section></section>
      </div>
    </div>
    <!--+google-tag-manager-noscript('GTM-M5S3PH')-->
  </body>
</html>