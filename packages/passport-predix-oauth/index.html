<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#" lang="en">
  <head>
    <title>passport-predix-oauth</title>
    <meta charset="utf-8">
    <meta name="description" content="Predix UAA authentication strategy for Passport.">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="canonical" href="https://www.passportjs.org/packages/passport-predix-oauth/">
    <link rel="manifest" href="/manifest.webmanifest"/>
    <meta name="theme-color" content="#35DF79"/>
    <link rel="shortcut icon" href="/images/favicon/favicon.ico"/>
    <link rel="icon" sizes="16x16" type="image/png" href="/images/favicon/favicon-16x16.png"/>
    <link rel="icon" sizes="32x32" type="image/png" href="/images/favicon/favicon-32x32.png"/>
    <link rel="icon" sizes="36x36" type="image/png" href="/images/favicon/android-icon-36x36.png"/>
    <link rel="icon" sizes="48x48" type="image/png" href="/images/favicon/android-icon-48x48.png"/>
    <link rel="icon" sizes="70x70" type="image/png" href="/images/favicon/ms-icon-70x70.png"/>
    <link rel="icon" sizes="72x72" type="image/png" href="/images/favicon/android-icon-72x72.png"/>
    <link rel="icon" sizes="96x96" type="image/png" href="/images/favicon/android-icon-96x96.png"/>
    <link rel="icon" sizes="144x144" type="image/png" href="/images/favicon/ms-icon-144x144.png"/>
    <link rel="icon" sizes="150x150" type="image/png" href="/images/favicon/ms-icon-150x150.png"/>
    <link rel="icon" sizes="192x192" type="image/png" href="/images/favicon/android-icon-192x192.png"/>
    <link rel="icon" sizes="310x310" type="image/png" href="/images/favicon/ms-icon-310x310.png"/>
    <link rel="apple-touch-icon" href="/images/favicon/apple-icon-57x57.png"/>
    <link rel="apple-touch-icon" sizes="60x60" href="/images/favicon/apple-icon-60x60.png"/>
    <link rel="apple-touch-icon" sizes="72x72" href="/images/favicon/apple-icon-72x72.png"/>
    <link rel="apple-touch-icon" sizes="76x76" href="/images/favicon/apple-icon-76x76.png"/>
    <link rel="apple-touch-icon" sizes="114x114" href="/images/favicon/apple-icon-114x114.png"/>
    <link rel="apple-touch-icon" sizes="120x120" href="/images/favicon/apple-icon-120x120.png"/>
    <link rel="apple-touch-icon" sizes="144x144" href="/images/favicon/apple-icon-144x144.png"/>
    <link rel="apple-touch-icon" sizes="152x152" href="/images/favicon/apple-icon-152x152.png"/>
    <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-icon-180x180.png"/>
    <meta name="msapplication-config" content="/browserconfig.xml"/>
    <meta name="msapplication-TileColor" content="#35DF79"/>
    <meta name="msapplication-TileImage" content="/images/favicon/ms-icon-144x144.png"/>
    <meta property="og:type" content="website"/>
    <meta property="og:title" content="passport-predix-oauth"/>
    <meta property="og:description" content="Predix UAA authentication strategy for Passport."/>
    <meta property="og:url" content="https://www.passportjs.org/packages/passport-predix-oauth/"/>
    <meta property="og:image" content="https://www.passportjs.org/images/facebook-card.png"/>
    <meta property="og:image:type" content="image/png"/>
    <meta property="og:image:width" content="1200"/>
    <meta property="og:image:height" content="630"/>
    <meta property="og:site_name" content="Passport.js"/>
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:site" content="@passportjs"/>
    <meta name="twitter:title" content="passport-predix-oauth"/>
    <meta name="twitter:description" content="Predix UAA authentication strategy for Passport."/>
    <meta name="twitter:image" content="https://www.passportjs.org/images/twitter-card.png"/>
    <meta name="flattr:id" content="d5znvd"/>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      
      ga('create', 'UA-73332146-2', 'auto');
      ga('send', 'pageview');
    </script>
    <!--+google-tag-manager('GTM-M5S3PH')-->
    <!--link(type='text/css', rel='stylesheet', href='http://fast.fonts.net/cssapi/7527d73a-ebfe-45db-a201-ff2812df4b18.css')-->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/styles/default.min.css">
    <link rel="stylesheet" href="/assets/styles/all.css">
    <script data-main="/script/main" src="//cdnjs.cloudflare.com/ajax/libs/require.js/2.3.5/require.js"></script>
  </head>
  <body>
    <div id="container"><span id="top"></span>
      <div id="toolbar">
        <div class="toolbar-search">
          <form action="/search">
            <button type="submit"></button>
            <input type="text" name="q" placeholder="Search for Strategies">
          </form>
        </div>
        <div class="toolbar-social">
          <ul>
            <li class="facebook"><a href="https://www.facebook.com/passportjs" target="_blank"></a></li>
            <li class="twitter"><a href="https://twitter.com/passportjs" target="_blank"></a></li>
            <li class="github"><a href="https://github.com/jaredhanson/passport" target="_blank"><span class="count">0</span></a></li>
          </ul>
        </div>
      </div>
      <nav id="menu"><a class="menu-logo" href="/" title="Passport.js"></a>
        <div class="menu-trigger"><span></span></div>
        <div class="menu-items">
          <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/docs/">Documentation</a></li>
            <li><a href="/features/">Features</a></li>
            <li><a href="/packages/">Strategies</a></li>
          </ul><script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=passportjsorg" id="_carbonads_js"></script>
        </div>
      </nav>
      <div id="content">
        <div class="package hproduct" id="package">
          <div class="description"><h1 id="passport-predix-oauth">Passport-Predix-Oauth</h1>
<p><a href="http://passportjs.org/docs">Passport</a> strategy for authenticating
with <a href="https://www.predix.io/services/service.html?id=1172">Predix UAA service</a> using the OAuth 2.0 API.</p>
<p>This strategy is similar to the CloudFoundry strategy but has several benefits when using Predix UAA.</p>
<ul>
<li>Support for proxy environment variables because many devs are behind a corporate proxy.</li>
<li>Simplified configuration.</li>
<li>Sets the clientID and secret as an Authorization Basic header, which is required by Predix UAA, whereas the CF UAA allows them to be in the POST body.</li>
</ul>
<h2 id="overview-of-predix-uaa">Overview of Predix UAA</h2>
<p>The <a href="https://www.predix.io/">Predix platform</a> provides <a href="https://www.predix.io/services/service.html?id=1172">UAA as a service</a> for developers to authenticate their application users. As a Predix platform user, you can secure access to your application by obtaining a UAA instance from the Cloud Foundry marketplace and configuring it to authenticate trusted users.</p>
<h2 id="installation">Installation</h2>
<pre><code>$ npm install pass<span class="keyword">port</span>-predix-oauth
</code></pre><h2 id="example-node-js-express-starter-application">Example Node.js Express starter application</h2>
<p>Check out the <code>app.js</code> file in this application to see how to use this Passport strategy in an Express web application.
<a href="https://github.com/predixdev/predix-nodejs-starter">https://github.com/predixdev/predix-nodejs-starter</a></p>
<h2 id="usage">Usage</h2>
<pre><code class="lang-javascript"><span class="keyword">var</span> passport = <span class="built_in">require</span>(<span class="string">'passport'</span>);
<span class="keyword">var</span> PredixStrategy = <span class="built_in">require</span>(<span class="string">'passport-predix-oauth'</span>).Strategy;
<span class="keyword">var</span> predixStrategy = <span class="keyword">new</span> PredixStrategy({
    <span class="attr">clientID</span>: CLIENT_ID,
    <span class="attr">clientSecret</span>: CLIENT_SECRET,
    <span class="attr">callbackURL</span>: CALLBACK_URL,
    <span class="attr">uaaURL</span>: UAA_URL
},refreshStrategy.getOAuth2StrategyCallback() <span class="comment">//Create a callback for OAuth2Strategy</span>
<span class="function"><span class="keyword">function</span>(<span class="params">accessToken, refreshToken, profile, done</span>) </span>{
    token = accessToken;
    done(<span class="literal">null</span>, profile);
});

passport.use(predixStrategy);
</code></pre>
<p>In most cases, just setting the uaaURL is all you need. The strategy will append paths to this URL for authorization, token, and user profile.
If desired, you can pass in those three values instead of uaaURL: authorizationURL, tokenURL, and userProfileURL.
(If set, uaaURL will override the others.)</p>
<h1 id="copyright">Copyright</h1>
<p>Copyright &copy; 2015, 2016, 2017 GE Global Research. All rights reserved.</p>
<p>The copyright to the computer software herein is the property of
GE Global Research. The software may be used and/or copied only
with the written permission of GE Global Research or in accordance
with the terms and conditions stipulated in the agreement/contract
under which the software has been supplied.</p>
<p><a href="https://github.com/PredixDev"><img src="https://ga-beacon.appspot.com/UA-82773213-1/passport-predix-oauth/readme?pixel" alt="Analytics"></a></p>
</div>
          <div class="metadata">
            <div class="install"><code>npm install <span class="fn">passport-predix-oauth</span></code></div>
            <ul>
              <li><span class="version">0.1.55</span> published <abbr class="updated" title="2018-06-04T22:42:24Z">4 years ago</abbr></li>
              <li><a class="url" href="https://github.com/PredixDev/passport-predix-oauth"></a></li>
              <li><a rel="licence" href="http://www.opensource.org/licenses/MIT">MIT License</a></li>
            </ul>
            <ul>
              <li><b>68</b> downloads in the last day</li>
              <li><b>407</b> downloads in the last week</li>
              <li><b>1,538</b> downloads in the last month</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="search-con">
      <div class="head"><span class="close-ico"></span>
        <div class="hold">
          <h2>SEARCH FOR STRATEGIES</h2>
          <form action="/">
            <input value="" type="text" name="strategy" placeholder="Start typing" autocomplete="off">
          </form>
          <p class="info-line"><span>0</span>STRATEGIES</p>
        </div>
      </div>
      <div class="results">
        <section></section>
      </div>
    </div>
    <!--+google-tag-manager-noscript('GTM-M5S3PH')-->
  </body>
</html>